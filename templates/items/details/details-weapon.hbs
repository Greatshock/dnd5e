<fieldset>
    <legend>{{ localize "DND5E.ItemWeaponDetails" }}</legend>

    {{!-- Weapon Type --}}
    {{ formField fields.type.fields.value value=source.type.value label="DND5E.ItemWeaponType" localize=true
                 choices=config.weaponTypes }}

    {{!-- Weapon Base --}}
    {{ formField fields.type.fields.baseItem value=source.type.baseItem label="DND5E.ItemWeaponBase" localize=true
                 choices=baseItems }}

    {{!-- Proficiency --}}
    {{#unless isMountable}}
    {{ formField fields.proficient value=source.proficient blank="DND5E.Automatic" localize=true
                 choices=config.weaponAndArmorProficiencyLevels }}
    {{/unless}}

    {{!-- Weapon Properties --}}
    {{ formField fields.properties options=properties.options label="DND5E.ItemWeaponProperties" localize=true
                 input=inputs.createMultiCheckboxInput stacked=true classes="checkbox-grid" }}

    {{!-- Magical Properties --}}
    {{#if properties.object.mgc}}
    <div class="form-group split-group">
        <label>{{ localize "DND5E.Item.Property.Magical" }}</label>
        <div class="form-fields">

            {{!-- Attunement --}}
            {{#unless isMountable}}
            <div class="form-group label-top">
                <label>{{ localize "DND5E.Attunement" }}</label>
                <div class="form-fields">

                    {{!-- Attuned --}}
                    {{#if source.attunement}}
                    {{ formInput fields.attuned value=source.attuned input=inputs.createCheckboxInput
                                 ariaLabel=(localize "DND5E.Attuned") dataset=(dnd5e-object tooltip="DND5E.Attuned") }}
                    {{/if}}

                    {{!-- Attunement --}}
                    {{ formInput fields.attunement value=source.attunement choices=config.attunementTypes
                                 blank="DND5E.AttunementNone" localize=true }}
                </div>
            </div>
            {{/unless}}

            {{!-- Magical Bonus --}}
            {{ formField fields.magicalBonus value=source.magicalBonus step=1 placeholder="0" label="DND5E.Bonus"
                         localize=true classes="label-top" }}
        </div>
    </div>
    {{/if}}
</fieldset>

{{#if system.isMountable}}
    {{> "dnd5e.details-mountable" }}
{{/if}}
